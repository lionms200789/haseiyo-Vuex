(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d222708"],{cf2a:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row justify-content-center"},[a("div",{staticClass:"col-md-10"},[t._m(0),a("table",{staticClass:"table order-table"},[t._m(1),a("tbody",{staticClass:"order-body"},t._l(t.myCarts.carts,(function(e,s){return a("tr",{key:s},[a("td",{staticStyle:{"text-align":"center"},attrs:{width:"5%",scope:"row"}},[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.goDetail(e.product_id)}}},[a("img",{staticClass:"img-fluid",staticStyle:{"min-width":"50px"},attrs:{src:e.product.imageUrl}})])]),a("td",{attrs:{width:"25%"}},[a("a",{attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),t.goDetail(e.product_id)}}},[a("p",[t._v(t._s(e.product.title))]),a("p",[t._v("尺寸 : "+t._s(e.size))])])]),a("td",{staticClass:"px-0",attrs:{width:"10%"}},[t._v(t._s(e.qty))]),a("td",{attrs:{width:"10%"}},[t._v(t._s(t._f("currency")(e.total)))]),a("td",{attrs:{width:"10%"}},[t._v(t._s(t._f("currency")(e.final_total)))])])})),0)]),a("div",{staticClass:"cart-total mb-5"},[a("div",{staticClass:"row border-bottom justify-content-between"},[a("div",{staticClass:"col-12 mb-3"},[a("ul",{staticClass:"pay-container"},[a("li",{staticClass:"cart-pay"},[a("span",[t._v("付款方式")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.payType,expression:"payType"}],attrs:{name:"pay-type",id:"payment"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.payType=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("請選擇付款方式")]),a("option",{attrs:{value:"creditCard"}},[t._v("信用卡線上刷卡")]),a("option",{attrs:{value:"cod"}},[t._v("貨到付款")])])]),a("li",{staticClass:"cart-pay"},[a("span",[t._v("運送方式")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.transferType,expression:"transferType"}],attrs:{name:"transfer-type",id:"transfer"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.transferType=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[t._v("請選擇運送方式")]),a("option",{attrs:{value:"logistic",selected:""}},[t._v("貨運宅配")]),a("option",{attrs:{value:"711"}},[t._v("7-11超商取貨")])])])])]),a("div",{staticClass:"col-12"},[a("ul",{staticClass:"list-unstyled text-left price-content",staticStyle:{float:"right"}},[a("li",{staticClass:"price-item"},[a("span",[t._v("總金額 :")]),a("span",[t._v(t._s(t._f("currency")(t.myCarts.total)))])]),a("li",{staticClass:"price-item"},[a("span",[t._v("共折抵:")]),a("span",[t._v(t._s(t._f("currency")(t.myCarts.total-t.myCarts.final_total)))])]),t._m(2),a("li",{staticClass:"price-item"},[a("span",[t._v("應付金額 :")]),a("span",[t._v("NT"+t._s(t._f("currency")(t.myCarts.final_total)))])])])])])]),a("div",{staticClass:"row"},[t._m(3),a("form",{staticClass:"col-lg-5 mb-3",on:{submit:function(e){return e.preventDefault(),t.establishOrder(e)}}},[a("h2",{staticClass:"text-center h5 mb-3"},[t._v("訂單填寫")]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useremail"}},[t._v("Email")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.email,expression:"form.user.email"}],staticClass:"form-control",attrs:{type:"email",name:"email",id:"useremail",placeholder:"請輸入 Email"},domProps:{value:t.form.user.email},on:{input:function(e){e.target.composing||t.$set(t.form.user,"email",e.target.value)}}}),t.errors.has("email")?a("span",{staticClass:"text-danger"},[t._v("請填寫正寫完整E-mail格式")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("收件人姓名")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.name,expression:"form.user.name"}],staticClass:"form-control",attrs:{type:"text",name:"name",id:"username",placeholder:"輸入完整姓名"},domProps:{value:t.form.user.name},on:{input:function(e){e.target.composing||t.$set(t.form.user,"name",e.target.value)}}}),t.errors.has("name")?a("span",{staticClass:"text-danger"},[t._v("姓名欄為必填")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"usertel"}},[t._v("收件人電話")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.tel,expression:"form.user.tel"}],staticClass:"form-control",attrs:{type:"tel",id:"usertel",name:"tel",placeholder:"請輸入電話"},domProps:{value:t.form.user.tel},on:{input:function(e){e.target.composing||t.$set(t.form.user,"tel",e.target.value)}}}),t.errors.has("tel")?a("span",{staticClass:"text-danger"},[t._v("電話號碼欄位不得留空")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"useraddress"}},[t._v("收件人地址")]),a("input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"},{name:"model",rawName:"v-model",value:t.form.user.address,expression:"form.user.address"}],staticClass:"form-control",attrs:{type:"text",name:"address",id:"useraddress",placeholder:"請輸入地址"},domProps:{value:t.form.user.address},on:{input:function(e){e.target.composing||t.$set(t.form.user,"address",e.target.value)}}}),t.errors.has("address")?a("span",{staticClass:"text-danger"},[t._v("地址欄位不得留空")]):t._e()]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"comment"}},[t._v("備註(選填)")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.message,expression:"form.message"}],staticClass:"form-control",attrs:{name:"",id:"comment",cols:"30",rows:"3"},domProps:{value:t.form.message},on:{input:function(e){e.target.composing||t.$set(t.form,"message",e.target.value)}}})]),t._m(4)])])])])])},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",{staticClass:"shop-steps list-unstyled d-flex"},[a("li",[a("span",[t._v("1.CHECK ORDER 確認購買清單")])]),a("li",{staticClass:"active"},[a("span",[t._v("2.SHIPPING ORDER 填寫訂單")])]),a("li",[a("span",[t._v("3.ALL DONE! 訂單完成")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"order-head"},[a("tr",[a("th",{attrs:{scope:"col"}}),a("th",{attrs:{scope:"col"}},[t._v("商品資訊")]),a("th",{attrs:{scope:"col"}},[t._v("數量")]),a("th",{attrs:{scope:"col"}},[t._v("價格")]),a("th",{attrs:{scope:"col"}},[t._v("折扣價")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"price-item"},[a("span")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-lg-7"},[a("h3",{staticClass:"text-center h5 mb-3"},[t._v("購物須知")]),a("div",{staticClass:"notice"},[a("p",[t._v("若您訂的商品無法於正常期限內出貨，我們將以e-mail通知您調貨狀況，如商品無法順利出貨或缺貨，為避免您久候商品，也將主動提醒您建議取消該品項。")]),a("p",[t._v("請務必檢查並確認訂購人之姓名、聯絡電話、地址，以確保商品到貨後可快速且正確的通知到您本人。")]),a("p",[t._v("如遇特殊狀況或其他不可抗力之因素或貨量不足，導致商品無法送抵，本公司得保留出貨與否之權利。")]),a("p",[t._v("訂單填寫完畢後，即表示確認且同意上述事項，日後如有爭議依本公司規定辦理。")]),a("p",[t._v("如發現惡意取消訂單達三次者，本公司將停止提供您的預訂服務。")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"text-right"},[a("button",{staticClass:"btn btn-dark rounded-0 w-100"},[t._v("建立訂單")])])}],i=(a("99af"),{data:function(){return{form:{user:{name:"",email:"",tel:"",address:""},message:""},payType:"",transferType:""}},methods:{goDetail:function(t){this.$router.push("/productdetail/".concat(t))},establishOrder:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("haseiyo","/order");t.$validator.validate().then((function(a){a&&t.$http.post(e,{data:t.form}).then((function(e){if(e.data.success){var a=e.data.orderId;t.$store.dispatch("updateCartQty"),t.$router.push("/customer/payment/".concat(a))}}))}))}},computed:{myCarts:function(){return this.$store.state.myCarts}},created:function(){this.$store.dispatch("getCart")}}),o=i,l=a("2877"),n=Object(l["a"])(o,s,r,!1,null,null,null);e["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d222708.259f3297.js.map